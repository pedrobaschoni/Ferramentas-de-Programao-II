<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"          
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Aplicação Financeira</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    
    <h:body>
        <h1>Calcular Aplicação Financeira</h1>
        <h:form>
            
            <p:growl id="growl" 
                     showDetail="true" 
                     showSummary="false" />   
            
            <p:panelGrid columns="2">
                
                <p:outputLabel for="@next" value="Valor"/>
                <p:inputNumber value="#{aplicacaoController.aplicacao.valor}"
                               required="true"
                               requiredMessage="Informe o valor"/>
                
                <p:outputLabel for="@next" value="Porcentagem"/>
                <p:inputNumber value="#{aplicacaoController.aplicacao.porcentagem}"
                               required="true"
                               requiredMessage="Informe a porcentagem"/>
                
                <p:outputLabel for="@next" value="Tempo (Dias)"/>
                <p:inputNumber value="#{aplicacaoController.aplicacao.dias}"
                               required="true"
                               requiredMessage="Informe os dias"/>
                
                <p:outputLabel for="@next" value="Tipo de Aplicação"/>
                <p:selectOneMenu value="#{aplicacaoController.aplicacao.tipo}">
                    <f:selectItem itemLabel="LCI" itemValue="LCI"/>
                    <f:selectItem itemLabel="CDB" itemValue="CDB"/>
                </p:selectOneMenu>
                
            </p:panelGrid>
            
            <br/>
            
            <p:commandButton value="Calcular" action="#{aplicacaoController.calcularAplicacao}" update="growl @form"/>
            
            <br/><br/><br/>
            
            <p:dataTable var="aplicacao" value="#{aplicacaoController.aplicacoes}">
                <p:column headerText="Tipo de Aplicação">
                    <h:outputText value="#{aplicacao.tipo}" />
                </p:column>

                <p:column headerText="Valor">
                    <h:outputText value="#{aplicacao.valor}" />
                </p:column>

                <p:column headerText="Porcentagem">
                    <h:outputText value="#{aplicacao.porcentagem}" />
                </p:column>

                <p:column headerText="Tempo (Dias)">
                    <h:outputText value="#{aplicacao.dias}" />
                </p:column>
                
                <p:column headerText="Imposto de Renda">
                    <h:outputText value="#{aplicacao.impostoRenda}" />
                </p:column>
                
                <p:column headerText="Renda Bruta">
                    <h:outputText value="#{aplicacao.rendaBruta}" />
                </p:column>
                
                <p:column headerText="Renda Liquida">
                    <h:outputText value="#{aplicacao.rendaLiquida}" />
                </p:column>
        </p:dataTable>
 
        </h:form>
    </h:body>
</html>
