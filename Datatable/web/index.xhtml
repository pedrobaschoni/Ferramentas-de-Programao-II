<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      >
    <h:head>
        <title>DataTable</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body>
        <h1>Uso do componente DataTable</h1>        
        <h:form>
            <p:commandButton value="Exibir" actionListener="#{produtoController.exibir}" />
            <t></t>
            <p:commandButton value="Remover" actionListener="#{produtoController.remover}" update="tabela">
                <p:confirm header="Confirmar exclusão?" message="Deseja excluir o produto?" icon="pi pi-exclamation-triangle"/>
            </p:commandButton>
            <br/><br/> 
            <p:dataTable var="produto" 
                         value="#{produtoController.produtos}" 
                         paginator="true" 
                         paginatorPosition="bottom" 
                         rows="10" 
                         selectionMode="single"
                         selection="#{produtoController.produtoSelecionado}"
                         rowKey="#{produto.id}"
                         id="tabela">
                
                <p:column field="id" headerText="ID">
                    <h:outputText value="#{produto.id}" />
                </p:column>
                
                <p:column headerText="Code">
                    <h:outputText value="#{produto.code}" />
                </p:column>
                
                <p:column headerText="Name" 
                          filterBy="#{produto.name}" 
                          filterMatchMode="contains"
                          responsivePriority="1">
                    <h:outputText value="#{produto.name}" />
                </p:column>
                
                <p:column headerText="Description" 
                          filterBy="#{produto.description}" 
                          filterFunction="contains">
                    <h:outputText value="#{produto.description}" />
                </p:column>
                
                <p:column headerText="Image" 
                          filterBy="#{produto.image}" 
                          filterMatchMode="contains">
                    <h:outputText value="#{produto.image}" />
                </p:column>
                
                <p:column headerText="Price" responsivePriority="2">
                    <h:outputText value="#{produto.price}" />
                </p:column>
                
                <p:column headerText="Category">
                    <h:outputText value="#{produto.category}" />
                </p:column>
                
                <p:column headerText="Quantity" 
                          filterBy="#{produto.quantity}" 
                          filterMatchMode="gt" 
                          converter="jakarta.faces.Integer"
                          responsivePriority="3">
                    <h:outputText value="#{produto.quantity}" />
                </p:column>
                
                <p:column headerText="Rating" 
                          sortBy="#{produto.rating}" 
                          filterBy="#{produto.rating}" 
                          filterMatchMode="lte" 
                          converter="jakarta.faces.Integer">
                    <h:outputText value="#{produto.rating}" />
                </p:column>
                
            </p:dataTable>
            
            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade" responsive="true" width="350">
                <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no ui-button-flat"/>
                <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" />
            </p:confirmDialog>
            
            
        </h:form>
        
    </h:body>
</html>
